<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.553">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Ryan Chua - 2201421  Loo Siong Yu - 2201255  Chua Kang Le - 2201161  Phua Tiffany - 2202698  Woon Jun Wei - 2200624  Ong Si Hui - 2201945">

<title>Visualizing Greenhouse Gas Emissions in the world</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="ghg_prep_files/libs/clipboard/clipboard.min.js"></script>
<script src="ghg_prep_files/libs/quarto-html/quarto.js"></script>
<script src="ghg_prep_files/libs/quarto-html/popper.min.js"></script>
<script src="ghg_prep_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="ghg_prep_files/libs/quarto-html/anchor.min.js"></script>
<link href="ghg_prep_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="ghg_prep_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="ghg_prep_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="ghg_prep_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="ghg_prep_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction"><span class="header-section-number">1</span> Introduction</a></li>
  <li><a href="#data-exploration" id="toc-data-exploration" class="nav-link" data-scroll-target="#data-exploration"><span class="header-section-number">2</span> Data Exploration</a>
  <ul class="collapse">
  <li><a href="#conclusion-from-exploration" id="toc-conclusion-from-exploration" class="nav-link" data-scroll-target="#conclusion-from-exploration"><span class="header-section-number">2.1</span> Conclusion from exploration</a></li>
  </ul></li>
  <li><a href="#data-cleaning-and-preparation-for-visualization" id="toc-data-cleaning-and-preparation-for-visualization" class="nav-link" data-scroll-target="#data-cleaning-and-preparation-for-visualization"><span class="header-section-number">3</span> Data Cleaning and Preparation for Visualization</a></li>
  <li><a href="#conclusion" id="toc-conclusion" class="nav-link" data-scroll-target="#conclusion"><span class="header-section-number">4</span> Conclusion</a>
  <ul class="collapse">
  <li><a href="#rationale-for-using-treemaps" id="toc-rationale-for-using-treemaps" class="nav-link" data-scroll-target="#rationale-for-using-treemaps"><span class="header-section-number">4.1</span> Rationale for Using Treemaps</a></li>
  </ul></li>
  </ul>
</nav>
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Visualizing Greenhouse Gas Emissions in the world</h1>
<p class="subtitle lead">Data Preparation done by <em>Team Bisque</em></p>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Ryan Chua - 2201421<br> Loo Siong Yu - 2201255<br> Chua Kang Le - 2201161<br> Phua Tiffany - 2202698<br> Woon Jun Wei - 2200624<br> Ong Si Hui - 2201945 </p>
          </div>
  </div>
    
  
    
  </div>
  


</header>


<section id="introduction" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> Introduction</h1>
<p>This Quarto document contains the data engineering required to reconstruct and improve the plot made by <a href="https://www.wri.org/insights/4-charts-explain-greenhouse-gas-emissions-countries-and-sectors">World Resources Institute</a> <span class="citation" data-cites="ghg_data"><span>“4 Charts Explain <span>GHG</span> Emissions by Country and Sector <span></span> World Resources Institute”</span> (<a href="#ref-ghg_data" role="doc-biblioref">2020</a>)</span>, shown in <a href="#fig-oldvs" class="quarto-xref">Figure&nbsp;1</a>, showing the top 10 Green House Gases (GHG) emitters in the world.</p>
<p>The code below requires the following packages:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Data Manipulation</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readxl)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(knitr)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gt)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Treemap</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(treemapify)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output-display">
<div id="fig-oldvs" class="quarto-figure quarto-figure-center quarto-float anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-oldvs-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/old_visualization.jpg" class="img-fluid figure-img" width="470">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-oldvs-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1: Visualization of The Top 10 GHG Emitters Contribute Over Two-Thirds of Global Emissions.
</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="data-exploration" class="level1" data-number="2">
<h1 data-number="2"><span class="header-section-number">2</span> Data Exploration</h1>
<p>Firstly, lets take a look at the raw data provided from <span class="citation" data-cites="ghg_wri"><span>“<span></span> Greenhouse Gas (<span>GHG</span>) Emissions <span></span> Climate Watch”</span> (<a href="#ref-ghg_wri" role="doc-biblioref">2024</a>)</span>, this is the <strong>original</strong> dataset</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>ghg_raw <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/historical_emissions_orig.csv"</span>)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="fu">gt_preview</span>(ghg_raw)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<div id="rxwtaviiay" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#rxwtaviiay table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#rxwtaviiay thead, #rxwtaviiay tbody, #rxwtaviiay tfoot, #rxwtaviiay tr, #rxwtaviiay td, #rxwtaviiay th {
  border-style: none;
}

#rxwtaviiay p {
  margin: 0;
  padding: 0;
}

#rxwtaviiay .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#rxwtaviiay .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#rxwtaviiay .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#rxwtaviiay .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#rxwtaviiay .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#rxwtaviiay .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#rxwtaviiay .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#rxwtaviiay .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#rxwtaviiay .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#rxwtaviiay .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#rxwtaviiay .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#rxwtaviiay .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#rxwtaviiay .gt_spanner_row {
  border-bottom-style: hidden;
}

#rxwtaviiay .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#rxwtaviiay .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#rxwtaviiay .gt_from_md > :first-child {
  margin-top: 0;
}

#rxwtaviiay .gt_from_md > :last-child {
  margin-bottom: 0;
}

#rxwtaviiay .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#rxwtaviiay .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#rxwtaviiay .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#rxwtaviiay .gt_row_group_first td {
  border-top-width: 2px;
}

#rxwtaviiay .gt_row_group_first th {
  border-top-width: 2px;
}

#rxwtaviiay .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#rxwtaviiay .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#rxwtaviiay .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#rxwtaviiay .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#rxwtaviiay .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#rxwtaviiay .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#rxwtaviiay .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#rxwtaviiay .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#rxwtaviiay .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#rxwtaviiay .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#rxwtaviiay .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#rxwtaviiay .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#rxwtaviiay .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#rxwtaviiay .gt_left {
  text-align: left;
}

#rxwtaviiay .gt_center {
  text-align: center;
}

#rxwtaviiay .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#rxwtaviiay .gt_font_normal {
  font-weight: normal;
}

#rxwtaviiay .gt_font_bold {
  font-weight: bold;
}

#rxwtaviiay .gt_font_italic {
  font-style: italic;
}

#rxwtaviiay .gt_super {
  font-size: 65%;
}

#rxwtaviiay .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#rxwtaviiay .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#rxwtaviiay .gt_indent_1 {
  text-indent: 5px;
}

#rxwtaviiay .gt_indent_2 {
  text-indent: 10px;
}

#rxwtaviiay .gt_indent_3 {
  text-indent: 15px;
}

#rxwtaviiay .gt_indent_4 {
  text-indent: 20px;
}

#rxwtaviiay .gt_indent_5 {
  text-indent: 25px;
}
</style>

<table class="gt_table table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="header gt_col_headings">
<th class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col"></th>
<th id="ISO" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">ISO</th>
<th id="Country" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">Country</th>
<th id="Data source" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">Data source</th>
<th id="Sector" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">Sector</th>
<th id="Gas" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">Gas</th>
<th id="Unit" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">Unit</th>
<th id="2021" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">2021</th>
<th id="2020" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">2020</th>
<th id="2019" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">2019</th>
<th id="2018" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">2018</th>
<th id="2017" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">2017</th>
<th id="2016" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">2016</th>
<th id="2015" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">2015</th>
<th id="2014" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">2014</th>
<th id="2013" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">2013</th>
<th id="2012" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">2012</th>
<th id="2011" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">2011</th>
<th id="2010" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">2010</th>
<th id="2009" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">2009</th>
<th id="2008" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">2008</th>
<th id="2007" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">2007</th>
<th id="2006" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">2006</th>
<th id="2005" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">2005</th>
<th id="2004" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">2004</th>
<th id="2003" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">2003</th>
<th id="2002" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">2002</th>
<th id="2001" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">2001</th>
<th id="2000" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">2000</th>
<th id="1999" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">1999</th>
<th id="1998" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">1998</th>
<th id="1997" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">1997</th>
<th id="1996" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">1996</th>
<th id="1995" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">1995</th>
<th id="1994" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">1994</th>
<th id="1993" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">1993</th>
<th id="1992" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">1992</th>
<th id="1991" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">1991</th>
<th id="1990" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">1990</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td id="stub_1_1" class="gt_row gt_right gt_stub" data-quarto-table-cell-role="th" scope="row" style="font-family: Courier">1</td>
<td class="gt_row gt_left" headers="stub_1_1 ISO">WORLD</td>
<td class="gt_row gt_left" headers="stub_1_1 Country">World</td>
<td class="gt_row gt_left" headers="stub_1_1 Data source">Climate Watch</td>
<td class="gt_row gt_left" headers="stub_1_1 Sector">Energy</td>
<td class="gt_row gt_left" headers="stub_1_1 Gas">CO2</td>
<td class="gt_row gt_left" headers="stub_1_1 Unit">MtCO₂e</td>
<td class="gt_row gt_left" headers="stub_1_1 2021">33844.07</td>
<td class="gt_row gt_left" headers="stub_1_1 2020">32008.01</td>
<td class="gt_row gt_left" headers="stub_1_1 2019">33952.39</td>
<td class="gt_row gt_left" headers="stub_1_1 2018">34014.9</td>
<td class="gt_row gt_left" headers="stub_1_1 2017">33220.25</td>
<td class="gt_row gt_left" headers="stub_1_1 2016">32709.9</td>
<td class="gt_row gt_left" headers="stub_1_1 2015">32653.54</td>
<td class="gt_row gt_left" headers="stub_1_1 2014">32788.53</td>
<td class="gt_row gt_left" headers="stub_1_1 2013">32712.89</td>
<td class="gt_row gt_left" headers="stub_1_1 2012">32105.24</td>
<td class="gt_row gt_left" headers="stub_1_1 2011">31764.12</td>
<td class="gt_row gt_left" headers="stub_1_1 2010">30876.98</td>
<td class="gt_row gt_left" headers="stub_1_1 2009">29098.54</td>
<td class="gt_row gt_left" headers="stub_1_1 2008">29513.52</td>
<td class="gt_row gt_left" headers="stub_1_1 2007">29311.06</td>
<td class="gt_row gt_left" headers="stub_1_1 2006">28276.61</td>
<td class="gt_row gt_left" headers="stub_1_1 2005">27428.72</td>
<td class="gt_row gt_left" headers="stub_1_1 2004">26452.59</td>
<td class="gt_row gt_left" headers="stub_1_1 2003">25291.26</td>
<td class="gt_row gt_left" headers="stub_1_1 2002">24225.76</td>
<td class="gt_row gt_left" headers="stub_1_1 2001">23909.01</td>
<td class="gt_row gt_left" headers="stub_1_1 2000">23578.28</td>
<td class="gt_row gt_right" headers="stub_1_1 1999">22861.24</td>
<td class="gt_row gt_right" headers="stub_1_1 1998">22724.54</td>
<td class="gt_row gt_right" headers="stub_1_1 1997">22558.37</td>
<td class="gt_row gt_right" headers="stub_1_1 1996">22162.14</td>
<td class="gt_row gt_right" headers="stub_1_1 1995">21693.95</td>
<td class="gt_row gt_right" headers="stub_1_1 1994">21104.75</td>
<td class="gt_row gt_right" headers="stub_1_1 1993">20995.22</td>
<td class="gt_row gt_right" headers="stub_1_1 1992">20875.35</td>
<td class="gt_row gt_right" headers="stub_1_1 1991">20945.86</td>
<td class="gt_row gt_right" headers="stub_1_1 1990">20802.72</td>
</tr>
<tr class="even">
<td id="stub_1_2" class="gt_row gt_right gt_stub" data-quarto-table-cell-role="th" scope="row" style="font-family: Courier">2</td>
<td class="gt_row gt_left" headers="stub_1_2 ISO">WORLD</td>
<td class="gt_row gt_left" headers="stub_1_2 Country">World</td>
<td class="gt_row gt_left" headers="stub_1_2 Data source">Climate Watch</td>
<td class="gt_row gt_left" headers="stub_1_2 Sector">Electricity/Heat</td>
<td class="gt_row gt_left" headers="stub_1_2 Gas">CO2</td>
<td class="gt_row gt_left" headers="stub_1_2 Unit">MtCO₂e</td>
<td class="gt_row gt_left" headers="stub_1_2 2021">16225.24</td>
<td class="gt_row gt_left" headers="stub_1_2 2020">15134.18</td>
<td class="gt_row gt_left" headers="stub_1_2 2019">15760.22</td>
<td class="gt_row gt_left" headers="stub_1_2 2018">15822.69</td>
<td class="gt_row gt_left" headers="stub_1_2 2017">15379.1</td>
<td class="gt_row gt_left" headers="stub_1_2 2016">15045.35</td>
<td class="gt_row gt_left" headers="stub_1_2 2015">15035.1</td>
<td class="gt_row gt_left" headers="stub_1_2 2014">15296.77</td>
<td class="gt_row gt_left" headers="stub_1_2 2013">15359.51</td>
<td class="gt_row gt_left" headers="stub_1_2 2012">15080.13</td>
<td class="gt_row gt_left" headers="stub_1_2 2011">14785.69</td>
<td class="gt_row gt_left" headers="stub_1_2 2010">14175.86</td>
<td class="gt_row gt_left" headers="stub_1_2 2009">13277.85</td>
<td class="gt_row gt_left" headers="stub_1_2 2008">13483.65</td>
<td class="gt_row gt_left" headers="stub_1_2 2007">13458.99</td>
<td class="gt_row gt_left" headers="stub_1_2 2006">12892.4</td>
<td class="gt_row gt_left" headers="stub_1_2 2005">12397.98</td>
<td class="gt_row gt_left" headers="stub_1_2 2004">12016.86</td>
<td class="gt_row gt_left" headers="stub_1_2 2003">11629.52</td>
<td class="gt_row gt_left" headers="stub_1_2 2002">11013.43</td>
<td class="gt_row gt_left" headers="stub_1_2 2001">10827.76</td>
<td class="gt_row gt_left" headers="stub_1_2 2000">10574.63</td>
<td class="gt_row gt_right" headers="stub_1_2 1999">10165.87</td>
<td class="gt_row gt_right" headers="stub_1_2 1998">10105.1</td>
<td class="gt_row gt_right" headers="stub_1_2 1997">9881.57</td>
<td class="gt_row gt_right" headers="stub_1_2 1996">9607.99</td>
<td class="gt_row gt_right" headers="stub_1_2 1995">9252.3</td>
<td class="gt_row gt_right" headers="stub_1_2 1994">9062.96</td>
<td class="gt_row gt_right" headers="stub_1_2 1993">8964.05</td>
<td class="gt_row gt_right" headers="stub_1_2 1992">8916.24</td>
<td class="gt_row gt_right" headers="stub_1_2 1991">8757.76</td>
<td class="gt_row gt_right" headers="stub_1_2 1990">8616.85</td>
</tr>
<tr class="odd">
<td id="stub_1_3" class="gt_row gt_right gt_stub" data-quarto-table-cell-role="th" scope="row" style="font-family: Courier">3</td>
<td class="gt_row gt_left" headers="stub_1_3 ISO">CHN</td>
<td class="gt_row gt_left" headers="stub_1_3 Country">China</td>
<td class="gt_row gt_left" headers="stub_1_3 Data source">Climate Watch</td>
<td class="gt_row gt_left" headers="stub_1_3 Sector">Energy</td>
<td class="gt_row gt_left" headers="stub_1_3 Gas">CO2</td>
<td class="gt_row gt_left" headers="stub_1_3 Unit">MtCO₂e</td>
<td class="gt_row gt_left" headers="stub_1_3 2021">10653.23</td>
<td class="gt_row gt_left" headers="stub_1_3 2020">10058.45</td>
<td class="gt_row gt_left" headers="stub_1_3 2019">9953.37</td>
<td class="gt_row gt_left" headers="stub_1_3 2018">9792.2</td>
<td class="gt_row gt_left" headers="stub_1_3 2017">9335.77</td>
<td class="gt_row gt_left" headers="stub_1_3 2016">9131.39</td>
<td class="gt_row gt_left" headers="stub_1_3 2015">9138.89</td>
<td class="gt_row gt_left" headers="stub_1_3 2014">9242.42</td>
<td class="gt_row gt_left" headers="stub_1_3 2013">9230.81</td>
<td class="gt_row gt_left" headers="stub_1_3 2012">8825.72</td>
<td class="gt_row gt_left" headers="stub_1_3 2011">8573.93</td>
<td class="gt_row gt_left" headers="stub_1_3 2010">7835.3</td>
<td class="gt_row gt_left" headers="stub_1_3 2009">7135.45</td>
<td class="gt_row gt_left" headers="stub_1_3 2008">6673.68</td>
<td class="gt_row gt_left" headers="stub_1_3 2007">6478.16</td>
<td class="gt_row gt_left" headers="stub_1_3 2006">5967.34</td>
<td class="gt_row gt_left" headers="stub_1_3 2005">5412.99</td>
<td class="gt_row gt_left" headers="stub_1_3 2004">4744.79</td>
<td class="gt_row gt_left" headers="stub_1_3 2003">4070.68</td>
<td class="gt_row gt_left" headers="stub_1_3 2002">3513.43</td>
<td class="gt_row gt_left" headers="stub_1_3 2001">3258.26</td>
<td class="gt_row gt_left" headers="stub_1_3 2000">3102.1</td>
<td class="gt_row gt_right" headers="stub_1_3 1999">2925.34</td>
<td class="gt_row gt_right" headers="stub_1_3 1998">3024.86</td>
<td class="gt_row gt_right" headers="stub_1_3 1997">2931.18</td>
<td class="gt_row gt_right" headers="stub_1_3 1996">2877.57</td>
<td class="gt_row gt_right" headers="stub_1_3 1995">2904.0</td>
<td class="gt_row gt_right" headers="stub_1_3 1994">2603.25</td>
<td class="gt_row gt_right" headers="stub_1_3 1993">2502.6</td>
<td class="gt_row gt_right" headers="stub_1_3 1992">2295.78</td>
<td class="gt_row gt_right" headers="stub_1_3 1991">2200.89</td>
<td class="gt_row gt_right" headers="stub_1_3 1990">2088.85</td>
</tr>
<tr class="even">
<td id="stub_1_4" class="gt_row gt_right gt_stub" data-quarto-table-cell-role="th" scope="row" style="font-family: Courier">4</td>
<td class="gt_row gt_left" headers="stub_1_4 ISO">WORLD</td>
<td class="gt_row gt_left" headers="stub_1_4 Country">World</td>
<td class="gt_row gt_left" headers="stub_1_4 Data source">Climate Watch</td>
<td class="gt_row gt_left" headers="stub_1_4 Sector">Transportation</td>
<td class="gt_row gt_left" headers="stub_1_4 Gas">CO2</td>
<td class="gt_row gt_left" headers="stub_1_4 Unit">MtCO₂e</td>
<td class="gt_row gt_left" headers="stub_1_4 2021">7631.46</td>
<td class="gt_row gt_left" headers="stub_1_4 2020">7089.9</td>
<td class="gt_row gt_left" headers="stub_1_4 2019">8279.32</td>
<td class="gt_row gt_left" headers="stub_1_4 2018">8270.81</td>
<td class="gt_row gt_left" headers="stub_1_4 2017">8076.36</td>
<td class="gt_row gt_left" headers="stub_1_4 2016">7883.25</td>
<td class="gt_row gt_left" headers="stub_1_4 2015">7734.19</td>
<td class="gt_row gt_left" headers="stub_1_4 2014">7500.2</td>
<td class="gt_row gt_left" headers="stub_1_4 2013">7377.08</td>
<td class="gt_row gt_left" headers="stub_1_4 2012">7190.88</td>
<td class="gt_row gt_left" headers="stub_1_4 2011">7132.08</td>
<td class="gt_row gt_left" headers="stub_1_4 2010">7018.52</td>
<td class="gt_row gt_left" headers="stub_1_4 2009">6733.44</td>
<td class="gt_row gt_left" headers="stub_1_4 2008">6873.53</td>
<td class="gt_row gt_left" headers="stub_1_4 2007">6869.28</td>
<td class="gt_row gt_left" headers="stub_1_4 2006">6661.23</td>
<td class="gt_row gt_left" headers="stub_1_4 2005">6509.66</td>
<td class="gt_row gt_left" headers="stub_1_4 2004">6368.5</td>
<td class="gt_row gt_left" headers="stub_1_4 2003">6086.25</td>
<td class="gt_row gt_left" headers="stub_1_4 2002">5961.21</td>
<td class="gt_row gt_left" headers="stub_1_4 2001">5809.13</td>
<td class="gt_row gt_left" headers="stub_1_4 2000">5780.13</td>
<td class="gt_row gt_right" headers="stub_1_4 1999">5602.19</td>
<td class="gt_row gt_right" headers="stub_1_4 1998">5440.67</td>
<td class="gt_row gt_right" headers="stub_1_4 1997">5316.49</td>
<td class="gt_row gt_right" headers="stub_1_4 1996">5240.26</td>
<td class="gt_row gt_right" headers="stub_1_4 1995">5034.2</td>
<td class="gt_row gt_right" headers="stub_1_4 1994">4899.71</td>
<td class="gt_row gt_right" headers="stub_1_4 1993">4803.03</td>
<td class="gt_row gt_right" headers="stub_1_4 1992">4761.27</td>
<td class="gt_row gt_right" headers="stub_1_4 1991">4655.45</td>
<td class="gt_row gt_right" headers="stub_1_4 1990">4617.67</td>
</tr>
<tr class="odd">
<td id="stub_1_5" class="gt_row gt_right gt_stub" data-quarto-table-cell-role="th" scope="row" style="font-family: Courier">5</td>
<td class="gt_row gt_left" headers="stub_1_5 ISO">WORLD</td>
<td class="gt_row gt_left" headers="stub_1_5 Country">World</td>
<td class="gt_row gt_left" headers="stub_1_5 Data source">Climate Watch</td>
<td class="gt_row gt_left" headers="stub_1_5 Sector">Manufacturing/Construction</td>
<td class="gt_row gt_left" headers="stub_1_5 Gas">CO2</td>
<td class="gt_row gt_left" headers="stub_1_5 Unit">MtCO₂e</td>
<td class="gt_row gt_left" headers="stub_1_5 2021">6340.96</td>
<td class="gt_row gt_left" headers="stub_1_5 2020">6193.62</td>
<td class="gt_row gt_left" headers="stub_1_5 2019">6249.52</td>
<td class="gt_row gt_left" headers="stub_1_5 2018">6213.09</td>
<td class="gt_row gt_left" headers="stub_1_5 2017">6078.01</td>
<td class="gt_row gt_left" headers="stub_1_5 2016">6149.3</td>
<td class="gt_row gt_left" headers="stub_1_5 2015">6291.35</td>
<td class="gt_row gt_left" headers="stub_1_5 2014">6427.31</td>
<td class="gt_row gt_left" headers="stub_1_5 2013">6363.2</td>
<td class="gt_row gt_left" headers="stub_1_5 2012">6335.53</td>
<td class="gt_row gt_left" headers="stub_1_5 2011">6315.54</td>
<td class="gt_row gt_left" headers="stub_1_5 2010">6088.59</td>
<td class="gt_row gt_left" headers="stub_1_5 2009">5544.53</td>
<td class="gt_row gt_left" headers="stub_1_5 2008">5555.66</td>
<td class="gt_row gt_left" headers="stub_1_5 2007">5440.9</td>
<td class="gt_row gt_left" headers="stub_1_5 2006">5167.59</td>
<td class="gt_row gt_left" headers="stub_1_5 2005">4925.54</td>
<td class="gt_row gt_left" headers="stub_1_5 2004">4508.76</td>
<td class="gt_row gt_left" headers="stub_1_5 2003">4077.14</td>
<td class="gt_row gt_left" headers="stub_1_5 2002">3891.64</td>
<td class="gt_row gt_left" headers="stub_1_5 2001">3897.16</td>
<td class="gt_row gt_left" headers="stub_1_5 2000">3874.37</td>
<td class="gt_row gt_right" headers="stub_1_5 1999">3698.96</td>
<td class="gt_row gt_right" headers="stub_1_5 1998">3856.12</td>
<td class="gt_row gt_right" headers="stub_1_5 1997">3856.1</td>
<td class="gt_row gt_right" headers="stub_1_5 1996">3830.85</td>
<td class="gt_row gt_right" headers="stub_1_5 1995">3940.27</td>
<td class="gt_row gt_right" headers="stub_1_5 1994">3713.84</td>
<td class="gt_row gt_right" headers="stub_1_5 1993">3696.94</td>
<td class="gt_row gt_right" headers="stub_1_5 1992">3746.91</td>
<td class="gt_row gt_right" headers="stub_1_5 1991">3880.09</td>
<td class="gt_row gt_right" headers="stub_1_5 1990">3956.8</td>
</tr>
<tr class="even">
<td id="stub_1_6" class="gt_row gt_right gt_stub" data-quarto-table-cell-role="th" scope="row" style="font-family: Courier; font-size: x-small; background-color: #E4E4E4">6..6657</td>
<td class="gt_row gt_left" headers="stub_1_6 ISO" style="background-color: #E4E4E4"></td>
<td class="gt_row gt_left" headers="stub_1_6 Country" style="background-color: #E4E4E4"></td>
<td class="gt_row gt_left" headers="stub_1_6 Data source" style="background-color: #E4E4E4"></td>
<td class="gt_row gt_left" headers="stub_1_6 Sector" style="background-color: #E4E4E4"></td>
<td class="gt_row gt_left" headers="stub_1_6 Gas" style="background-color: #E4E4E4"></td>
<td class="gt_row gt_left" headers="stub_1_6 Unit" style="background-color: #E4E4E4"></td>
<td class="gt_row gt_left" headers="stub_1_6 2021" style="background-color: #E4E4E4"></td>
<td class="gt_row gt_left" headers="stub_1_6 2020" style="background-color: #E4E4E4"></td>
<td class="gt_row gt_left" headers="stub_1_6 2019" style="background-color: #E4E4E4"></td>
<td class="gt_row gt_left" headers="stub_1_6 2018" style="background-color: #E4E4E4"></td>
<td class="gt_row gt_left" headers="stub_1_6 2017" style="background-color: #E4E4E4"></td>
<td class="gt_row gt_left" headers="stub_1_6 2016" style="background-color: #E4E4E4"></td>
<td class="gt_row gt_left" headers="stub_1_6 2015" style="background-color: #E4E4E4"></td>
<td class="gt_row gt_left" headers="stub_1_6 2014" style="background-color: #E4E4E4"></td>
<td class="gt_row gt_left" headers="stub_1_6 2013" style="background-color: #E4E4E4"></td>
<td class="gt_row gt_left" headers="stub_1_6 2012" style="background-color: #E4E4E4"></td>
<td class="gt_row gt_left" headers="stub_1_6 2011" style="background-color: #E4E4E4"></td>
<td class="gt_row gt_left" headers="stub_1_6 2010" style="background-color: #E4E4E4"></td>
<td class="gt_row gt_left" headers="stub_1_6 2009" style="background-color: #E4E4E4"></td>
<td class="gt_row gt_left" headers="stub_1_6 2008" style="background-color: #E4E4E4"></td>
<td class="gt_row gt_left" headers="stub_1_6 2007" style="background-color: #E4E4E4"></td>
<td class="gt_row gt_left" headers="stub_1_6 2006" style="background-color: #E4E4E4"></td>
<td class="gt_row gt_left" headers="stub_1_6 2005" style="background-color: #E4E4E4"></td>
<td class="gt_row gt_left" headers="stub_1_6 2004" style="background-color: #E4E4E4"></td>
<td class="gt_row gt_left" headers="stub_1_6 2003" style="background-color: #E4E4E4"></td>
<td class="gt_row gt_left" headers="stub_1_6 2002" style="background-color: #E4E4E4"></td>
<td class="gt_row gt_left" headers="stub_1_6 2001" style="background-color: #E4E4E4"></td>
<td class="gt_row gt_left" headers="stub_1_6 2000" style="background-color: #E4E4E4"></td>
<td class="gt_row gt_right" headers="stub_1_6 1999" style="background-color: #E4E4E4"></td>
<td class="gt_row gt_right" headers="stub_1_6 1998" style="background-color: #E4E4E4"></td>
<td class="gt_row gt_right" headers="stub_1_6 1997" style="background-color: #E4E4E4"></td>
<td class="gt_row gt_right" headers="stub_1_6 1996" style="background-color: #E4E4E4"></td>
<td class="gt_row gt_right" headers="stub_1_6 1995" style="background-color: #E4E4E4"></td>
<td class="gt_row gt_right" headers="stub_1_6 1994" style="background-color: #E4E4E4"></td>
<td class="gt_row gt_right" headers="stub_1_6 1993" style="background-color: #E4E4E4"></td>
<td class="gt_row gt_right" headers="stub_1_6 1992" style="background-color: #E4E4E4"></td>
<td class="gt_row gt_right" headers="stub_1_6 1991" style="background-color: #E4E4E4"></td>
<td class="gt_row gt_right" headers="stub_1_6 1990" style="background-color: #E4E4E4"></td>
</tr>
<tr class="odd">
<td id="stub_1_7" class="gt_row gt_right gt_stub" data-quarto-table-cell-role="th" scope="row" style="font-family: Courier">6658</td>
<td class="gt_row gt_left" headers="stub_1_7 ISO">SOM</td>
<td class="gt_row gt_left" headers="stub_1_7 Country">Somalia</td>
<td class="gt_row gt_left" headers="stub_1_7 Data source">Climate Watch</td>
<td class="gt_row gt_left" headers="stub_1_7 Sector">Industrial Processes</td>
<td class="gt_row gt_left" headers="stub_1_7 Gas">CO2</td>
<td class="gt_row gt_left" headers="stub_1_7 Unit">MtCO₂e</td>
<td class="gt_row gt_left" headers="stub_1_7 2021">N/A</td>
<td class="gt_row gt_left" headers="stub_1_7 2020">N/A</td>
<td class="gt_row gt_left" headers="stub_1_7 2019">N/A</td>
<td class="gt_row gt_left" headers="stub_1_7 2018">N/A</td>
<td class="gt_row gt_left" headers="stub_1_7 2017">N/A</td>
<td class="gt_row gt_left" headers="stub_1_7 2016">N/A</td>
<td class="gt_row gt_left" headers="stub_1_7 2015">N/A</td>
<td class="gt_row gt_left" headers="stub_1_7 2014">N/A</td>
<td class="gt_row gt_left" headers="stub_1_7 2013">N/A</td>
<td class="gt_row gt_left" headers="stub_1_7 2012">N/A</td>
<td class="gt_row gt_left" headers="stub_1_7 2011">N/A</td>
<td class="gt_row gt_left" headers="stub_1_7 2010">N/A</td>
<td class="gt_row gt_left" headers="stub_1_7 2009">N/A</td>
<td class="gt_row gt_left" headers="stub_1_7 2008">N/A</td>
<td class="gt_row gt_left" headers="stub_1_7 2007">N/A</td>
<td class="gt_row gt_left" headers="stub_1_7 2006">N/A</td>
<td class="gt_row gt_left" headers="stub_1_7 2005">N/A</td>
<td class="gt_row gt_left" headers="stub_1_7 2004">N/A</td>
<td class="gt_row gt_left" headers="stub_1_7 2003">N/A</td>
<td class="gt_row gt_left" headers="stub_1_7 2002">N/A</td>
<td class="gt_row gt_left" headers="stub_1_7 2001">N/A</td>
<td class="gt_row gt_left" headers="stub_1_7 2000">N/A</td>
<td class="gt_row gt_right" headers="stub_1_7 1999">0.0</td>
<td class="gt_row gt_right" headers="stub_1_7 1998">0.0</td>
<td class="gt_row gt_right" headers="stub_1_7 1997">0.0</td>
<td class="gt_row gt_right" headers="stub_1_7 1996">0.0</td>
<td class="gt_row gt_right" headers="stub_1_7 1995">0.01</td>
<td class="gt_row gt_right" headers="stub_1_7 1994">0.01</td>
<td class="gt_row gt_right" headers="stub_1_7 1993">0.01</td>
<td class="gt_row gt_right" headers="stub_1_7 1992">0.01</td>
<td class="gt_row gt_right" headers="stub_1_7 1991">0.0</td>
<td class="gt_row gt_right" headers="stub_1_7 1990">0.02</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
<p>From the preview, lets check how many unique Countries, Sectors, Gases and Unit are there in the dataset</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>ghg_raw <span class="sc">|&gt;</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">n_distinct</span>(Country),</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 1
  `n_distinct(Country)`
                  &lt;int&gt;
1                   195</code></pre>
</div>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>ghg_raw <span class="sc">|&gt;</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">n_distinct</span>(Sector),</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">n_distinct</span>(Gas),</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">n_distinct</span>(Unit)</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 3
  `n_distinct(Sector)` `n_distinct(Gas)` `n_distinct(Unit)`
                 &lt;int&gt;             &lt;int&gt;              &lt;int&gt;
1                   12                 4                  1</code></pre>
</div>
</div>
<p>Since there is only 1 distinct <code>Unit</code> type, we can drop this column as it is not needed for our analysis. The unit MtCO₂e stands for “million metric tons of carbon dioxide equivalent.” This also tells us that we do not need to scale the gas types as they are already in the same unit.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>ghg_raw <span class="ot">&lt;-</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>  ghg_raw <span class="sc">|&gt;</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>Unit, <span class="sc">-</span><span class="st">"Data source"</span>)</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a><span class="fu">gt_preview</span>(ghg_raw)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<div id="lndwnslhaa" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#lndwnslhaa table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#lndwnslhaa thead, #lndwnslhaa tbody, #lndwnslhaa tfoot, #lndwnslhaa tr, #lndwnslhaa td, #lndwnslhaa th {
  border-style: none;
}

#lndwnslhaa p {
  margin: 0;
  padding: 0;
}

#lndwnslhaa .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#lndwnslhaa .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#lndwnslhaa .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#lndwnslhaa .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#lndwnslhaa .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#lndwnslhaa .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#lndwnslhaa .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#lndwnslhaa .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#lndwnslhaa .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#lndwnslhaa .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#lndwnslhaa .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#lndwnslhaa .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#lndwnslhaa .gt_spanner_row {
  border-bottom-style: hidden;
}

#lndwnslhaa .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#lndwnslhaa .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#lndwnslhaa .gt_from_md > :first-child {
  margin-top: 0;
}

#lndwnslhaa .gt_from_md > :last-child {
  margin-bottom: 0;
}

#lndwnslhaa .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#lndwnslhaa .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#lndwnslhaa .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#lndwnslhaa .gt_row_group_first td {
  border-top-width: 2px;
}

#lndwnslhaa .gt_row_group_first th {
  border-top-width: 2px;
}

#lndwnslhaa .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#lndwnslhaa .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#lndwnslhaa .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#lndwnslhaa .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#lndwnslhaa .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#lndwnslhaa .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#lndwnslhaa .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#lndwnslhaa .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#lndwnslhaa .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#lndwnslhaa .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#lndwnslhaa .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#lndwnslhaa .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#lndwnslhaa .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#lndwnslhaa .gt_left {
  text-align: left;
}

#lndwnslhaa .gt_center {
  text-align: center;
}

#lndwnslhaa .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#lndwnslhaa .gt_font_normal {
  font-weight: normal;
}

#lndwnslhaa .gt_font_bold {
  font-weight: bold;
}

#lndwnslhaa .gt_font_italic {
  font-style: italic;
}

#lndwnslhaa .gt_super {
  font-size: 65%;
}

#lndwnslhaa .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#lndwnslhaa .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#lndwnslhaa .gt_indent_1 {
  text-indent: 5px;
}

#lndwnslhaa .gt_indent_2 {
  text-indent: 10px;
}

#lndwnslhaa .gt_indent_3 {
  text-indent: 15px;
}

#lndwnslhaa .gt_indent_4 {
  text-indent: 20px;
}

#lndwnslhaa .gt_indent_5 {
  text-indent: 25px;
}
</style>

<table class="gt_table table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="header gt_col_headings">
<th class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col"></th>
<th id="ISO" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">ISO</th>
<th id="Country" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">Country</th>
<th id="Sector" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">Sector</th>
<th id="Gas" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">Gas</th>
<th id="2021" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">2021</th>
<th id="2020" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">2020</th>
<th id="2019" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">2019</th>
<th id="2018" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">2018</th>
<th id="2017" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">2017</th>
<th id="2016" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">2016</th>
<th id="2015" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">2015</th>
<th id="2014" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">2014</th>
<th id="2013" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">2013</th>
<th id="2012" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">2012</th>
<th id="2011" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">2011</th>
<th id="2010" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">2010</th>
<th id="2009" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">2009</th>
<th id="2008" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">2008</th>
<th id="2007" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">2007</th>
<th id="2006" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">2006</th>
<th id="2005" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">2005</th>
<th id="2004" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">2004</th>
<th id="2003" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">2003</th>
<th id="2002" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">2002</th>
<th id="2001" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">2001</th>
<th id="2000" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">2000</th>
<th id="1999" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">1999</th>
<th id="1998" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">1998</th>
<th id="1997" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">1997</th>
<th id="1996" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">1996</th>
<th id="1995" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">1995</th>
<th id="1994" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">1994</th>
<th id="1993" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">1993</th>
<th id="1992" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">1992</th>
<th id="1991" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">1991</th>
<th id="1990" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">1990</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td id="stub_1_1" class="gt_row gt_right gt_stub" data-quarto-table-cell-role="th" scope="row" style="font-family: Courier">1</td>
<td class="gt_row gt_left" headers="stub_1_1 ISO">WORLD</td>
<td class="gt_row gt_left" headers="stub_1_1 Country">World</td>
<td class="gt_row gt_left" headers="stub_1_1 Sector">Energy</td>
<td class="gt_row gt_left" headers="stub_1_1 Gas">CO2</td>
<td class="gt_row gt_left" headers="stub_1_1 2021">33844.07</td>
<td class="gt_row gt_left" headers="stub_1_1 2020">32008.01</td>
<td class="gt_row gt_left" headers="stub_1_1 2019">33952.39</td>
<td class="gt_row gt_left" headers="stub_1_1 2018">34014.9</td>
<td class="gt_row gt_left" headers="stub_1_1 2017">33220.25</td>
<td class="gt_row gt_left" headers="stub_1_1 2016">32709.9</td>
<td class="gt_row gt_left" headers="stub_1_1 2015">32653.54</td>
<td class="gt_row gt_left" headers="stub_1_1 2014">32788.53</td>
<td class="gt_row gt_left" headers="stub_1_1 2013">32712.89</td>
<td class="gt_row gt_left" headers="stub_1_1 2012">32105.24</td>
<td class="gt_row gt_left" headers="stub_1_1 2011">31764.12</td>
<td class="gt_row gt_left" headers="stub_1_1 2010">30876.98</td>
<td class="gt_row gt_left" headers="stub_1_1 2009">29098.54</td>
<td class="gt_row gt_left" headers="stub_1_1 2008">29513.52</td>
<td class="gt_row gt_left" headers="stub_1_1 2007">29311.06</td>
<td class="gt_row gt_left" headers="stub_1_1 2006">28276.61</td>
<td class="gt_row gt_left" headers="stub_1_1 2005">27428.72</td>
<td class="gt_row gt_left" headers="stub_1_1 2004">26452.59</td>
<td class="gt_row gt_left" headers="stub_1_1 2003">25291.26</td>
<td class="gt_row gt_left" headers="stub_1_1 2002">24225.76</td>
<td class="gt_row gt_left" headers="stub_1_1 2001">23909.01</td>
<td class="gt_row gt_left" headers="stub_1_1 2000">23578.28</td>
<td class="gt_row gt_right" headers="stub_1_1 1999">22861.24</td>
<td class="gt_row gt_right" headers="stub_1_1 1998">22724.54</td>
<td class="gt_row gt_right" headers="stub_1_1 1997">22558.37</td>
<td class="gt_row gt_right" headers="stub_1_1 1996">22162.14</td>
<td class="gt_row gt_right" headers="stub_1_1 1995">21693.95</td>
<td class="gt_row gt_right" headers="stub_1_1 1994">21104.75</td>
<td class="gt_row gt_right" headers="stub_1_1 1993">20995.22</td>
<td class="gt_row gt_right" headers="stub_1_1 1992">20875.35</td>
<td class="gt_row gt_right" headers="stub_1_1 1991">20945.86</td>
<td class="gt_row gt_right" headers="stub_1_1 1990">20802.72</td>
</tr>
<tr class="even">
<td id="stub_1_2" class="gt_row gt_right gt_stub" data-quarto-table-cell-role="th" scope="row" style="font-family: Courier">2</td>
<td class="gt_row gt_left" headers="stub_1_2 ISO">WORLD</td>
<td class="gt_row gt_left" headers="stub_1_2 Country">World</td>
<td class="gt_row gt_left" headers="stub_1_2 Sector">Electricity/Heat</td>
<td class="gt_row gt_left" headers="stub_1_2 Gas">CO2</td>
<td class="gt_row gt_left" headers="stub_1_2 2021">16225.24</td>
<td class="gt_row gt_left" headers="stub_1_2 2020">15134.18</td>
<td class="gt_row gt_left" headers="stub_1_2 2019">15760.22</td>
<td class="gt_row gt_left" headers="stub_1_2 2018">15822.69</td>
<td class="gt_row gt_left" headers="stub_1_2 2017">15379.1</td>
<td class="gt_row gt_left" headers="stub_1_2 2016">15045.35</td>
<td class="gt_row gt_left" headers="stub_1_2 2015">15035.1</td>
<td class="gt_row gt_left" headers="stub_1_2 2014">15296.77</td>
<td class="gt_row gt_left" headers="stub_1_2 2013">15359.51</td>
<td class="gt_row gt_left" headers="stub_1_2 2012">15080.13</td>
<td class="gt_row gt_left" headers="stub_1_2 2011">14785.69</td>
<td class="gt_row gt_left" headers="stub_1_2 2010">14175.86</td>
<td class="gt_row gt_left" headers="stub_1_2 2009">13277.85</td>
<td class="gt_row gt_left" headers="stub_1_2 2008">13483.65</td>
<td class="gt_row gt_left" headers="stub_1_2 2007">13458.99</td>
<td class="gt_row gt_left" headers="stub_1_2 2006">12892.4</td>
<td class="gt_row gt_left" headers="stub_1_2 2005">12397.98</td>
<td class="gt_row gt_left" headers="stub_1_2 2004">12016.86</td>
<td class="gt_row gt_left" headers="stub_1_2 2003">11629.52</td>
<td class="gt_row gt_left" headers="stub_1_2 2002">11013.43</td>
<td class="gt_row gt_left" headers="stub_1_2 2001">10827.76</td>
<td class="gt_row gt_left" headers="stub_1_2 2000">10574.63</td>
<td class="gt_row gt_right" headers="stub_1_2 1999">10165.87</td>
<td class="gt_row gt_right" headers="stub_1_2 1998">10105.1</td>
<td class="gt_row gt_right" headers="stub_1_2 1997">9881.57</td>
<td class="gt_row gt_right" headers="stub_1_2 1996">9607.99</td>
<td class="gt_row gt_right" headers="stub_1_2 1995">9252.3</td>
<td class="gt_row gt_right" headers="stub_1_2 1994">9062.96</td>
<td class="gt_row gt_right" headers="stub_1_2 1993">8964.05</td>
<td class="gt_row gt_right" headers="stub_1_2 1992">8916.24</td>
<td class="gt_row gt_right" headers="stub_1_2 1991">8757.76</td>
<td class="gt_row gt_right" headers="stub_1_2 1990">8616.85</td>
</tr>
<tr class="odd">
<td id="stub_1_3" class="gt_row gt_right gt_stub" data-quarto-table-cell-role="th" scope="row" style="font-family: Courier">3</td>
<td class="gt_row gt_left" headers="stub_1_3 ISO">CHN</td>
<td class="gt_row gt_left" headers="stub_1_3 Country">China</td>
<td class="gt_row gt_left" headers="stub_1_3 Sector">Energy</td>
<td class="gt_row gt_left" headers="stub_1_3 Gas">CO2</td>
<td class="gt_row gt_left" headers="stub_1_3 2021">10653.23</td>
<td class="gt_row gt_left" headers="stub_1_3 2020">10058.45</td>
<td class="gt_row gt_left" headers="stub_1_3 2019">9953.37</td>
<td class="gt_row gt_left" headers="stub_1_3 2018">9792.2</td>
<td class="gt_row gt_left" headers="stub_1_3 2017">9335.77</td>
<td class="gt_row gt_left" headers="stub_1_3 2016">9131.39</td>
<td class="gt_row gt_left" headers="stub_1_3 2015">9138.89</td>
<td class="gt_row gt_left" headers="stub_1_3 2014">9242.42</td>
<td class="gt_row gt_left" headers="stub_1_3 2013">9230.81</td>
<td class="gt_row gt_left" headers="stub_1_3 2012">8825.72</td>
<td class="gt_row gt_left" headers="stub_1_3 2011">8573.93</td>
<td class="gt_row gt_left" headers="stub_1_3 2010">7835.3</td>
<td class="gt_row gt_left" headers="stub_1_3 2009">7135.45</td>
<td class="gt_row gt_left" headers="stub_1_3 2008">6673.68</td>
<td class="gt_row gt_left" headers="stub_1_3 2007">6478.16</td>
<td class="gt_row gt_left" headers="stub_1_3 2006">5967.34</td>
<td class="gt_row gt_left" headers="stub_1_3 2005">5412.99</td>
<td class="gt_row gt_left" headers="stub_1_3 2004">4744.79</td>
<td class="gt_row gt_left" headers="stub_1_3 2003">4070.68</td>
<td class="gt_row gt_left" headers="stub_1_3 2002">3513.43</td>
<td class="gt_row gt_left" headers="stub_1_3 2001">3258.26</td>
<td class="gt_row gt_left" headers="stub_1_3 2000">3102.1</td>
<td class="gt_row gt_right" headers="stub_1_3 1999">2925.34</td>
<td class="gt_row gt_right" headers="stub_1_3 1998">3024.86</td>
<td class="gt_row gt_right" headers="stub_1_3 1997">2931.18</td>
<td class="gt_row gt_right" headers="stub_1_3 1996">2877.57</td>
<td class="gt_row gt_right" headers="stub_1_3 1995">2904.0</td>
<td class="gt_row gt_right" headers="stub_1_3 1994">2603.25</td>
<td class="gt_row gt_right" headers="stub_1_3 1993">2502.6</td>
<td class="gt_row gt_right" headers="stub_1_3 1992">2295.78</td>
<td class="gt_row gt_right" headers="stub_1_3 1991">2200.89</td>
<td class="gt_row gt_right" headers="stub_1_3 1990">2088.85</td>
</tr>
<tr class="even">
<td id="stub_1_4" class="gt_row gt_right gt_stub" data-quarto-table-cell-role="th" scope="row" style="font-family: Courier">4</td>
<td class="gt_row gt_left" headers="stub_1_4 ISO">WORLD</td>
<td class="gt_row gt_left" headers="stub_1_4 Country">World</td>
<td class="gt_row gt_left" headers="stub_1_4 Sector">Transportation</td>
<td class="gt_row gt_left" headers="stub_1_4 Gas">CO2</td>
<td class="gt_row gt_left" headers="stub_1_4 2021">7631.46</td>
<td class="gt_row gt_left" headers="stub_1_4 2020">7089.9</td>
<td class="gt_row gt_left" headers="stub_1_4 2019">8279.32</td>
<td class="gt_row gt_left" headers="stub_1_4 2018">8270.81</td>
<td class="gt_row gt_left" headers="stub_1_4 2017">8076.36</td>
<td class="gt_row gt_left" headers="stub_1_4 2016">7883.25</td>
<td class="gt_row gt_left" headers="stub_1_4 2015">7734.19</td>
<td class="gt_row gt_left" headers="stub_1_4 2014">7500.2</td>
<td class="gt_row gt_left" headers="stub_1_4 2013">7377.08</td>
<td class="gt_row gt_left" headers="stub_1_4 2012">7190.88</td>
<td class="gt_row gt_left" headers="stub_1_4 2011">7132.08</td>
<td class="gt_row gt_left" headers="stub_1_4 2010">7018.52</td>
<td class="gt_row gt_left" headers="stub_1_4 2009">6733.44</td>
<td class="gt_row gt_left" headers="stub_1_4 2008">6873.53</td>
<td class="gt_row gt_left" headers="stub_1_4 2007">6869.28</td>
<td class="gt_row gt_left" headers="stub_1_4 2006">6661.23</td>
<td class="gt_row gt_left" headers="stub_1_4 2005">6509.66</td>
<td class="gt_row gt_left" headers="stub_1_4 2004">6368.5</td>
<td class="gt_row gt_left" headers="stub_1_4 2003">6086.25</td>
<td class="gt_row gt_left" headers="stub_1_4 2002">5961.21</td>
<td class="gt_row gt_left" headers="stub_1_4 2001">5809.13</td>
<td class="gt_row gt_left" headers="stub_1_4 2000">5780.13</td>
<td class="gt_row gt_right" headers="stub_1_4 1999">5602.19</td>
<td class="gt_row gt_right" headers="stub_1_4 1998">5440.67</td>
<td class="gt_row gt_right" headers="stub_1_4 1997">5316.49</td>
<td class="gt_row gt_right" headers="stub_1_4 1996">5240.26</td>
<td class="gt_row gt_right" headers="stub_1_4 1995">5034.2</td>
<td class="gt_row gt_right" headers="stub_1_4 1994">4899.71</td>
<td class="gt_row gt_right" headers="stub_1_4 1993">4803.03</td>
<td class="gt_row gt_right" headers="stub_1_4 1992">4761.27</td>
<td class="gt_row gt_right" headers="stub_1_4 1991">4655.45</td>
<td class="gt_row gt_right" headers="stub_1_4 1990">4617.67</td>
</tr>
<tr class="odd">
<td id="stub_1_5" class="gt_row gt_right gt_stub" data-quarto-table-cell-role="th" scope="row" style="font-family: Courier">5</td>
<td class="gt_row gt_left" headers="stub_1_5 ISO">WORLD</td>
<td class="gt_row gt_left" headers="stub_1_5 Country">World</td>
<td class="gt_row gt_left" headers="stub_1_5 Sector">Manufacturing/Construction</td>
<td class="gt_row gt_left" headers="stub_1_5 Gas">CO2</td>
<td class="gt_row gt_left" headers="stub_1_5 2021">6340.96</td>
<td class="gt_row gt_left" headers="stub_1_5 2020">6193.62</td>
<td class="gt_row gt_left" headers="stub_1_5 2019">6249.52</td>
<td class="gt_row gt_left" headers="stub_1_5 2018">6213.09</td>
<td class="gt_row gt_left" headers="stub_1_5 2017">6078.01</td>
<td class="gt_row gt_left" headers="stub_1_5 2016">6149.3</td>
<td class="gt_row gt_left" headers="stub_1_5 2015">6291.35</td>
<td class="gt_row gt_left" headers="stub_1_5 2014">6427.31</td>
<td class="gt_row gt_left" headers="stub_1_5 2013">6363.2</td>
<td class="gt_row gt_left" headers="stub_1_5 2012">6335.53</td>
<td class="gt_row gt_left" headers="stub_1_5 2011">6315.54</td>
<td class="gt_row gt_left" headers="stub_1_5 2010">6088.59</td>
<td class="gt_row gt_left" headers="stub_1_5 2009">5544.53</td>
<td class="gt_row gt_left" headers="stub_1_5 2008">5555.66</td>
<td class="gt_row gt_left" headers="stub_1_5 2007">5440.9</td>
<td class="gt_row gt_left" headers="stub_1_5 2006">5167.59</td>
<td class="gt_row gt_left" headers="stub_1_5 2005">4925.54</td>
<td class="gt_row gt_left" headers="stub_1_5 2004">4508.76</td>
<td class="gt_row gt_left" headers="stub_1_5 2003">4077.14</td>
<td class="gt_row gt_left" headers="stub_1_5 2002">3891.64</td>
<td class="gt_row gt_left" headers="stub_1_5 2001">3897.16</td>
<td class="gt_row gt_left" headers="stub_1_5 2000">3874.37</td>
<td class="gt_row gt_right" headers="stub_1_5 1999">3698.96</td>
<td class="gt_row gt_right" headers="stub_1_5 1998">3856.12</td>
<td class="gt_row gt_right" headers="stub_1_5 1997">3856.1</td>
<td class="gt_row gt_right" headers="stub_1_5 1996">3830.85</td>
<td class="gt_row gt_right" headers="stub_1_5 1995">3940.27</td>
<td class="gt_row gt_right" headers="stub_1_5 1994">3713.84</td>
<td class="gt_row gt_right" headers="stub_1_5 1993">3696.94</td>
<td class="gt_row gt_right" headers="stub_1_5 1992">3746.91</td>
<td class="gt_row gt_right" headers="stub_1_5 1991">3880.09</td>
<td class="gt_row gt_right" headers="stub_1_5 1990">3956.8</td>
</tr>
<tr class="even">
<td id="stub_1_6" class="gt_row gt_right gt_stub" data-quarto-table-cell-role="th" scope="row" style="font-family: Courier; font-size: x-small; background-color: #E4E4E4">6..6657</td>
<td class="gt_row gt_left" headers="stub_1_6 ISO" style="background-color: #E4E4E4"></td>
<td class="gt_row gt_left" headers="stub_1_6 Country" style="background-color: #E4E4E4"></td>
<td class="gt_row gt_left" headers="stub_1_6 Sector" style="background-color: #E4E4E4"></td>
<td class="gt_row gt_left" headers="stub_1_6 Gas" style="background-color: #E4E4E4"></td>
<td class="gt_row gt_left" headers="stub_1_6 2021" style="background-color: #E4E4E4"></td>
<td class="gt_row gt_left" headers="stub_1_6 2020" style="background-color: #E4E4E4"></td>
<td class="gt_row gt_left" headers="stub_1_6 2019" style="background-color: #E4E4E4"></td>
<td class="gt_row gt_left" headers="stub_1_6 2018" style="background-color: #E4E4E4"></td>
<td class="gt_row gt_left" headers="stub_1_6 2017" style="background-color: #E4E4E4"></td>
<td class="gt_row gt_left" headers="stub_1_6 2016" style="background-color: #E4E4E4"></td>
<td class="gt_row gt_left" headers="stub_1_6 2015" style="background-color: #E4E4E4"></td>
<td class="gt_row gt_left" headers="stub_1_6 2014" style="background-color: #E4E4E4"></td>
<td class="gt_row gt_left" headers="stub_1_6 2013" style="background-color: #E4E4E4"></td>
<td class="gt_row gt_left" headers="stub_1_6 2012" style="background-color: #E4E4E4"></td>
<td class="gt_row gt_left" headers="stub_1_6 2011" style="background-color: #E4E4E4"></td>
<td class="gt_row gt_left" headers="stub_1_6 2010" style="background-color: #E4E4E4"></td>
<td class="gt_row gt_left" headers="stub_1_6 2009" style="background-color: #E4E4E4"></td>
<td class="gt_row gt_left" headers="stub_1_6 2008" style="background-color: #E4E4E4"></td>
<td class="gt_row gt_left" headers="stub_1_6 2007" style="background-color: #E4E4E4"></td>
<td class="gt_row gt_left" headers="stub_1_6 2006" style="background-color: #E4E4E4"></td>
<td class="gt_row gt_left" headers="stub_1_6 2005" style="background-color: #E4E4E4"></td>
<td class="gt_row gt_left" headers="stub_1_6 2004" style="background-color: #E4E4E4"></td>
<td class="gt_row gt_left" headers="stub_1_6 2003" style="background-color: #E4E4E4"></td>
<td class="gt_row gt_left" headers="stub_1_6 2002" style="background-color: #E4E4E4"></td>
<td class="gt_row gt_left" headers="stub_1_6 2001" style="background-color: #E4E4E4"></td>
<td class="gt_row gt_left" headers="stub_1_6 2000" style="background-color: #E4E4E4"></td>
<td class="gt_row gt_right" headers="stub_1_6 1999" style="background-color: #E4E4E4"></td>
<td class="gt_row gt_right" headers="stub_1_6 1998" style="background-color: #E4E4E4"></td>
<td class="gt_row gt_right" headers="stub_1_6 1997" style="background-color: #E4E4E4"></td>
<td class="gt_row gt_right" headers="stub_1_6 1996" style="background-color: #E4E4E4"></td>
<td class="gt_row gt_right" headers="stub_1_6 1995" style="background-color: #E4E4E4"></td>
<td class="gt_row gt_right" headers="stub_1_6 1994" style="background-color: #E4E4E4"></td>
<td class="gt_row gt_right" headers="stub_1_6 1993" style="background-color: #E4E4E4"></td>
<td class="gt_row gt_right" headers="stub_1_6 1992" style="background-color: #E4E4E4"></td>
<td class="gt_row gt_right" headers="stub_1_6 1991" style="background-color: #E4E4E4"></td>
<td class="gt_row gt_right" headers="stub_1_6 1990" style="background-color: #E4E4E4"></td>
</tr>
<tr class="odd">
<td id="stub_1_7" class="gt_row gt_right gt_stub" data-quarto-table-cell-role="th" scope="row" style="font-family: Courier">6658</td>
<td class="gt_row gt_left" headers="stub_1_7 ISO">SOM</td>
<td class="gt_row gt_left" headers="stub_1_7 Country">Somalia</td>
<td class="gt_row gt_left" headers="stub_1_7 Sector">Industrial Processes</td>
<td class="gt_row gt_left" headers="stub_1_7 Gas">CO2</td>
<td class="gt_row gt_left" headers="stub_1_7 2021">N/A</td>
<td class="gt_row gt_left" headers="stub_1_7 2020">N/A</td>
<td class="gt_row gt_left" headers="stub_1_7 2019">N/A</td>
<td class="gt_row gt_left" headers="stub_1_7 2018">N/A</td>
<td class="gt_row gt_left" headers="stub_1_7 2017">N/A</td>
<td class="gt_row gt_left" headers="stub_1_7 2016">N/A</td>
<td class="gt_row gt_left" headers="stub_1_7 2015">N/A</td>
<td class="gt_row gt_left" headers="stub_1_7 2014">N/A</td>
<td class="gt_row gt_left" headers="stub_1_7 2013">N/A</td>
<td class="gt_row gt_left" headers="stub_1_7 2012">N/A</td>
<td class="gt_row gt_left" headers="stub_1_7 2011">N/A</td>
<td class="gt_row gt_left" headers="stub_1_7 2010">N/A</td>
<td class="gt_row gt_left" headers="stub_1_7 2009">N/A</td>
<td class="gt_row gt_left" headers="stub_1_7 2008">N/A</td>
<td class="gt_row gt_left" headers="stub_1_7 2007">N/A</td>
<td class="gt_row gt_left" headers="stub_1_7 2006">N/A</td>
<td class="gt_row gt_left" headers="stub_1_7 2005">N/A</td>
<td class="gt_row gt_left" headers="stub_1_7 2004">N/A</td>
<td class="gt_row gt_left" headers="stub_1_7 2003">N/A</td>
<td class="gt_row gt_left" headers="stub_1_7 2002">N/A</td>
<td class="gt_row gt_left" headers="stub_1_7 2001">N/A</td>
<td class="gt_row gt_left" headers="stub_1_7 2000">N/A</td>
<td class="gt_row gt_right" headers="stub_1_7 1999">0.0</td>
<td class="gt_row gt_right" headers="stub_1_7 1998">0.0</td>
<td class="gt_row gt_right" headers="stub_1_7 1997">0.0</td>
<td class="gt_row gt_right" headers="stub_1_7 1996">0.0</td>
<td class="gt_row gt_right" headers="stub_1_7 1995">0.01</td>
<td class="gt_row gt_right" headers="stub_1_7 1994">0.01</td>
<td class="gt_row gt_right" headers="stub_1_7 1993">0.01</td>
<td class="gt_row gt_right" headers="stub_1_7 1992">0.01</td>
<td class="gt_row gt_right" headers="stub_1_7 1991">0.0</td>
<td class="gt_row gt_right" headers="stub_1_7 1990">0.02</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Print size of the Data set</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(ghg_raw)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 6658   36</code></pre>
</div>
</div>
<section id="conclusion-from-exploration" class="level2" data-number="2.1">
<h2 data-number="2.1" class="anchored" data-anchor-id="conclusion-from-exploration"><span class="header-section-number">2.1</span> Conclusion from exploration</h2>
<p><a href="#source1">Source 1</a> consists of each country’s annual GHG emission, industry and gas type. These data are suitable for a complex analysis and the making of a beautiful chart. However, the data is not suitable for a treemap visualization as it contains too many sectors and countries. We have processed the data to group the sectors and countries into more manageable categories for the treemap visualization.</p>
</section>
</section>
<section id="data-cleaning-and-preparation-for-visualization" class="level1" data-number="3">
<h1 data-number="3"><span class="header-section-number">3</span> Data Cleaning and Preparation for Visualization</h1>
<p>In the following code, we will process the greenhouse gas (GHG) emissions data to achieve the following goals:</p>
<ol type="1">
<li>Identify the top 10 countries by total emissions and group the rest of the countries under “Others”.</li>
<li>Summarize emissions by country and sector.</li>
<li>Prepare the data for treemap visualization by categorizing sectors and renaming specific countries.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Function to process each gas</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>process_gas <span class="ot">&lt;-</span> <span class="cf">function</span>(data, gas_name) {</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>  data <span class="sc">|&gt;</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(Gas <span class="sc">==</span> gas_name) <span class="sc">|&gt;</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="dv">5</span><span class="sc">:</span><span class="fu">ncol</span>(data), <span class="at">names_to =</span> <span class="st">"Year"</span>, <span class="at">values_to =</span> <span class="st">"Emissions"</span>, <span class="at">values_transform =</span> <span class="fu">list</span>(<span class="at">Emissions =</span> as.numeric)) <span class="sc">|&gt;</span></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(ISO, Country, Sector, Year) <span class="sc">|&gt;</span></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarize</span>(<span class="at">Emissions =</span> <span class="fu">sum</span>(Emissions, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), <span class="at">.groups =</span> <span class="st">"drop"</span>)</span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Process each gas and combine results</span></span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>ghg_gases <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"CO2"</span>, <span class="st">"F-Gas"</span>, <span class="st">"N2O"</span>, <span class="st">"CH4"</span>)</span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a>ghg_combined <span class="ot">&lt;-</span> <span class="fu">map_dfr</span>(ghg_gases, <span class="sc">~</span> <span class="fu">process_gas</span>(ghg_raw, .x))</span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Sum up the emissions for each country and sector across all years</span></span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a>ghg_total_sector <span class="ot">&lt;-</span> ghg_combined <span class="sc">|&gt;</span></span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(ISO, Country, Sector) <span class="sc">|&gt;</span></span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">Emissions =</span> <span class="fu">sum</span>(Emissions, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), <span class="at">.groups =</span> <span class="st">"drop"</span>) <span class="sc">|&gt;</span></span>
<span id="cb10-18"><a href="#cb10-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(ISO <span class="sc">!=</span> <span class="st">"WORLD"</span>) <span class="sc">|&gt;</span></span>
<span id="cb10-19"><a href="#cb10-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(Emissions))</span>
<span id="cb10-20"><a href="#cb10-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-21"><a href="#cb10-21" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate total emissions for each country</span></span>
<span id="cb10-22"><a href="#cb10-22" aria-hidden="true" tabindex="-1"></a>country_total_emissions <span class="ot">&lt;-</span> ghg_total_sector <span class="sc">|&gt;</span></span>
<span id="cb10-23"><a href="#cb10-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Country) <span class="sc">|&gt;</span></span>
<span id="cb10-24"><a href="#cb10-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">Total_Emissions =</span> <span class="fu">sum</span>(Emissions), <span class="at">.groups =</span> <span class="st">"drop"</span>)</span>
<span id="cb10-25"><a href="#cb10-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-26"><a href="#cb10-26" aria-hidden="true" tabindex="-1"></a><span class="co"># Get the top 10 countries by total emissions</span></span>
<span id="cb10-27"><a href="#cb10-27" aria-hidden="true" tabindex="-1"></a>top_10_countries <span class="ot">&lt;-</span> country_total_emissions <span class="sc">|&gt;</span></span>
<span id="cb10-28"><a href="#cb10-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">top_n</span>(<span class="dv">10</span>, <span class="at">wt =</span> Total_Emissions) <span class="sc">|&gt;</span></span>
<span id="cb10-29"><a href="#cb10-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(Country)</span>
<span id="cb10-30"><a href="#cb10-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-31"><a href="#cb10-31" aria-hidden="true" tabindex="-1"></a><span class="co"># Categorize countries as "Top 10" or "Others"</span></span>
<span id="cb10-32"><a href="#cb10-32" aria-hidden="true" tabindex="-1"></a>ghg_total_sector <span class="ot">&lt;-</span> ghg_total_sector <span class="sc">|&gt;</span></span>
<span id="cb10-33"><a href="#cb10-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Country =</span> <span class="fu">if_else</span>(Country <span class="sc">%in%</span> top_10_countries, Country, <span class="st">"Others"</span>))</span>
<span id="cb10-34"><a href="#cb10-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-35"><a href="#cb10-35" aria-hidden="true" tabindex="-1"></a><span class="co"># Sum emissions for each country and sector</span></span>
<span id="cb10-36"><a href="#cb10-36" aria-hidden="true" tabindex="-1"></a>ghg_total_sector <span class="ot">&lt;-</span> ghg_total_sector <span class="sc">|&gt;</span></span>
<span id="cb10-37"><a href="#cb10-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Country, Sector) <span class="sc">|&gt;</span></span>
<span id="cb10-38"><a href="#cb10-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">Emissions =</span> <span class="fu">sum</span>(Emissions), <span class="at">.groups =</span> <span class="st">"drop"</span>)</span>
<span id="cb10-39"><a href="#cb10-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-40"><a href="#cb10-40" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate total emissions for each country again after categorization</span></span>
<span id="cb10-41"><a href="#cb10-41" aria-hidden="true" tabindex="-1"></a>country_total_emissions <span class="ot">&lt;-</span> ghg_total_sector <span class="sc">|&gt;</span></span>
<span id="cb10-42"><a href="#cb10-42" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Country) <span class="sc">|&gt;</span></span>
<span id="cb10-43"><a href="#cb10-43" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">Total_Emissions =</span> <span class="fu">sum</span>(Emissions), <span class="at">.groups =</span> <span class="st">"drop"</span>)</span>
<span id="cb10-44"><a href="#cb10-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-45"><a href="#cb10-45" aria-hidden="true" tabindex="-1"></a><span class="co"># Sort countries by total emissions</span></span>
<span id="cb10-46"><a href="#cb10-46" aria-hidden="true" tabindex="-1"></a>ghg_total_sector <span class="ot">&lt;-</span> ghg_total_sector <span class="sc">|&gt;</span></span>
<span id="cb10-47"><a href="#cb10-47" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(country_total_emissions, <span class="at">by =</span> <span class="st">"Country"</span>) <span class="sc">|&gt;</span></span>
<span id="cb10-48"><a href="#cb10-48" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(Total_Emissions), Country, <span class="fu">desc</span>(Emissions)) <span class="sc">|&gt;</span></span>
<span id="cb10-49"><a href="#cb10-49" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Country =</span> <span class="fu">factor</span>(Country, <span class="at">levels =</span> <span class="fu">unique</span>(Country))) <span class="sc">|&gt;</span></span>
<span id="cb10-50"><a href="#cb10-50" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>Total_Emissions)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>In this block, we process the emissions data for each type of greenhouse gas, sum up emissions across years, and categorize countries into “Top 10” and “Others”. The final output <code>ghg_total_sector</code> contains emissions data grouped by country and sector.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Preview the result (Top 10 countries and sector)</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>ghg_total_sector <span class="sc">|&gt;</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Country <span class="sc">!=</span> <span class="st">"Others"</span>) <span class="sc">|&gt;</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt_preview</span>(<span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<div id="hazdzcgmtw" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#hazdzcgmtw table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#hazdzcgmtw thead, #hazdzcgmtw tbody, #hazdzcgmtw tfoot, #hazdzcgmtw tr, #hazdzcgmtw td, #hazdzcgmtw th {
  border-style: none;
}

#hazdzcgmtw p {
  margin: 0;
  padding: 0;
}

#hazdzcgmtw .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#hazdzcgmtw .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#hazdzcgmtw .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#hazdzcgmtw .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#hazdzcgmtw .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#hazdzcgmtw .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#hazdzcgmtw .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#hazdzcgmtw .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#hazdzcgmtw .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#hazdzcgmtw .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#hazdzcgmtw .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#hazdzcgmtw .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#hazdzcgmtw .gt_spanner_row {
  border-bottom-style: hidden;
}

#hazdzcgmtw .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#hazdzcgmtw .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#hazdzcgmtw .gt_from_md > :first-child {
  margin-top: 0;
}

#hazdzcgmtw .gt_from_md > :last-child {
  margin-bottom: 0;
}

#hazdzcgmtw .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#hazdzcgmtw .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#hazdzcgmtw .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#hazdzcgmtw .gt_row_group_first td {
  border-top-width: 2px;
}

#hazdzcgmtw .gt_row_group_first th {
  border-top-width: 2px;
}

#hazdzcgmtw .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#hazdzcgmtw .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#hazdzcgmtw .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#hazdzcgmtw .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#hazdzcgmtw .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#hazdzcgmtw .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#hazdzcgmtw .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#hazdzcgmtw .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#hazdzcgmtw .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#hazdzcgmtw .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#hazdzcgmtw .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#hazdzcgmtw .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#hazdzcgmtw .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#hazdzcgmtw .gt_left {
  text-align: left;
}

#hazdzcgmtw .gt_center {
  text-align: center;
}

#hazdzcgmtw .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#hazdzcgmtw .gt_font_normal {
  font-weight: normal;
}

#hazdzcgmtw .gt_font_bold {
  font-weight: bold;
}

#hazdzcgmtw .gt_font_italic {
  font-style: italic;
}

#hazdzcgmtw .gt_super {
  font-size: 65%;
}

#hazdzcgmtw .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#hazdzcgmtw .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#hazdzcgmtw .gt_indent_1 {
  text-indent: 5px;
}

#hazdzcgmtw .gt_indent_2 {
  text-indent: 10px;
}

#hazdzcgmtw .gt_indent_3 {
  text-indent: 15px;
}

#hazdzcgmtw .gt_indent_4 {
  text-indent: 20px;
}

#hazdzcgmtw .gt_indent_5 {
  text-indent: 25px;
}
</style>

<table class="gt_table table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="header gt_col_headings">
<th class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col"></th>
<th id="Country" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">Country</th>
<th id="Sector" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">Sector</th>
<th id="Emissions" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Emissions</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td id="stub_1_1" class="gt_row gt_right gt_stub" data-quarto-table-cell-role="th" scope="row" style="font-family: Courier">1</td>
<td class="gt_row gt_left" headers="stub_1_1 Country">China</td>
<td class="gt_row gt_left" headers="stub_1_1 Sector">Energy</td>
<td class="gt_row gt_right" headers="stub_1_1 Emissions">202109.67</td>
</tr>
<tr class="even">
<td id="stub_1_2" class="gt_row gt_right gt_stub" data-quarto-table-cell-role="th" scope="row" style="font-family: Courier">2</td>
<td class="gt_row gt_left" headers="stub_1_2 Country">China</td>
<td class="gt_row gt_left" headers="stub_1_2 Sector">Electricity/Heat</td>
<td class="gt_row gt_right" headers="stub_1_2 Emissions">95832.47</td>
</tr>
<tr class="odd">
<td id="stub_1_3" class="gt_row gt_right gt_stub" data-quarto-table-cell-role="th" scope="row" style="font-family: Courier">3</td>
<td class="gt_row gt_left" headers="stub_1_3 Country">China</td>
<td class="gt_row gt_left" headers="stub_1_3 Sector">Manufacturing/Construction</td>
<td class="gt_row gt_right" headers="stub_1_3 Emissions">60996.87</td>
</tr>
<tr class="even">
<td id="stub_1_4" class="gt_row gt_right gt_stub" data-quarto-table-cell-role="th" scope="row" style="font-family: Courier">4</td>
<td class="gt_row gt_left" headers="stub_1_4 Country">China</td>
<td class="gt_row gt_left" headers="stub_1_4 Sector">Agriculture</td>
<td class="gt_row gt_right" headers="stub_1_4 Emissions">21309.74</td>
</tr>
<tr class="odd">
<td id="stub_1_5" class="gt_row gt_right gt_stub" data-quarto-table-cell-role="th" scope="row" style="font-family: Courier">5</td>
<td class="gt_row gt_left" headers="stub_1_5 Country">China</td>
<td class="gt_row gt_left" headers="stub_1_5 Sector">Industrial Processes</td>
<td class="gt_row gt_right" headers="stub_1_5 Emissions">20494.50</td>
</tr>
<tr class="even">
<td id="stub_1_6" class="gt_row gt_right gt_stub" data-quarto-table-cell-role="th" scope="row" style="font-family: Courier">6</td>
<td class="gt_row gt_left" headers="stub_1_6 Country">China</td>
<td class="gt_row gt_left" headers="stub_1_6 Sector">Transportation</td>
<td class="gt_row gt_right" headers="stub_1_6 Emissions">15181.29</td>
</tr>
<tr class="odd">
<td id="stub_1_7" class="gt_row gt_right gt_stub" data-quarto-table-cell-role="th" scope="row" style="font-family: Courier">7</td>
<td class="gt_row gt_left" headers="stub_1_7 Country">China</td>
<td class="gt_row gt_left" headers="stub_1_7 Sector">Building</td>
<td class="gt_row gt_right" headers="stub_1_7 Emissions">14854.92</td>
</tr>
<tr class="even">
<td id="stub_1_8" class="gt_row gt_right gt_stub" data-quarto-table-cell-role="th" scope="row" style="font-family: Courier">8</td>
<td class="gt_row gt_left" headers="stub_1_8 Country">China</td>
<td class="gt_row gt_left" headers="stub_1_8 Sector">Fugitive Emissions</td>
<td class="gt_row gt_right" headers="stub_1_8 Emissions">10132.19</td>
</tr>
<tr class="odd">
<td id="stub_1_9" class="gt_row gt_right gt_stub" data-quarto-table-cell-role="th" scope="row" style="font-family: Courier">9</td>
<td class="gt_row gt_left" headers="stub_1_9 Country">China</td>
<td class="gt_row gt_left" headers="stub_1_9 Sector">Waste</td>
<td class="gt_row gt_right" headers="stub_1_9 Emissions">5580.97</td>
</tr>
<tr class="even">
<td id="stub_1_10" class="gt_row gt_right gt_stub" data-quarto-table-cell-role="th" scope="row" style="font-family: Courier">10</td>
<td class="gt_row gt_left" headers="stub_1_10 Country">China</td>
<td class="gt_row gt_left" headers="stub_1_10 Sector">Other Fuel Combustion</td>
<td class="gt_row gt_right" headers="stub_1_10 Emissions">5111.91</td>
</tr>
<tr class="odd">
<td id="stub_1_11" class="gt_row gt_right gt_stub" data-quarto-table-cell-role="th" scope="row" style="font-family: Courier; font-size: x-small; background-color: #E4E4E4">11..119</td>
<td class="gt_row gt_left" headers="stub_1_11 Country" style="background-color: #E4E4E4"></td>
<td class="gt_row gt_left" headers="stub_1_11 Sector" style="background-color: #E4E4E4"></td>
<td class="gt_row gt_right" headers="stub_1_11 Emissions" style="background-color: #E4E4E4"></td>
</tr>
<tr class="even">
<td id="stub_1_12" class="gt_row gt_right gt_stub" data-quarto-table-cell-role="th" scope="row" style="font-family: Courier">120</td>
<td class="gt_row gt_left" headers="stub_1_12 Country">Canada</td>
<td class="gt_row gt_left" headers="stub_1_12 Sector">Bunker Fuels</td>
<td class="gt_row gt_right" headers="stub_1_12 Emissions">300.21</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
<p>This block previews the emissions data for the top 10 countries, showing emissions by sector.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove negative Emissions (We don't want to show negative emissions)</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>treemap_data <span class="ot">&lt;-</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>  ghg_total_sector <span class="sc">|&gt;</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Emissions <span class="sc">&gt;=</span> <span class="dv">0</span>)</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Select only the specified sectors and group the rest under "Other Sectors"</span></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>treemap_data <span class="ot">&lt;-</span></span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>  treemap_data <span class="sc">|&gt;</span></span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Country) <span class="sc">|&gt;</span></span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Sector =</span> <span class="fu">if_else</span>(</span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a>    Sector <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Energy"</span>, <span class="st">"Electricity/Heat"</span>, <span class="st">"Agriculture"</span>, <span class="st">"Transportation"</span>, <span class="st">"Manufacturing/Construction"</span>),</span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a>    Sector,</span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Other Sectors"</span></span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a>  )) <span class="sc">|&gt;</span></span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb12-16"><a href="#cb12-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-17"><a href="#cb12-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine all sectors in "Others" Country into "Other Sectors"</span></span>
<span id="cb12-18"><a href="#cb12-18" aria-hidden="true" tabindex="-1"></a>treemap_data <span class="ot">&lt;-</span></span>
<span id="cb12-19"><a href="#cb12-19" aria-hidden="true" tabindex="-1"></a>  treemap_data <span class="sc">|&gt;</span></span>
<span id="cb12-20"><a href="#cb12-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Sector =</span> <span class="fu">if_else</span>(Country <span class="sc">==</span> <span class="st">"Others"</span>, <span class="st">"Other Sectors"</span>, Sector))</span>
<span id="cb12-21"><a href="#cb12-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-22"><a href="#cb12-22" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine the emissions of the "Other Sector" for each country and rename sectors appropriately</span></span>
<span id="cb12-23"><a href="#cb12-23" aria-hidden="true" tabindex="-1"></a>treemap_data <span class="ot">&lt;-</span></span>
<span id="cb12-24"><a href="#cb12-24" aria-hidden="true" tabindex="-1"></a>  treemap_data <span class="sc">|&gt;</span></span>
<span id="cb12-25"><a href="#cb12-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Country, Sector) <span class="sc">|&gt;</span></span>
<span id="cb12-26"><a href="#cb12-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">Emissions =</span> <span class="fu">sum</span>(Emissions), <span class="at">.groups =</span> <span class="st">"drop"</span>) <span class="sc">|&gt;</span></span>
<span id="cb12-27"><a href="#cb12-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Sector =</span> <span class="fu">if_else</span>(Country <span class="sc">==</span> <span class="st">"Others"</span> <span class="sc">&amp;</span> Sector <span class="sc">==</span> <span class="st">"Other Sectors"</span>, <span class="st">"Other Country"</span>, Sector))</span>
<span id="cb12-28"><a href="#cb12-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-29"><a href="#cb12-29" aria-hidden="true" tabindex="-1"></a><span class="co"># Rename "European Union (27)" to "EU27" and "Others" to "184 Remaining Countries"</span></span>
<span id="cb12-30"><a href="#cb12-30" aria-hidden="true" tabindex="-1"></a>treemap_data <span class="ot">&lt;-</span></span>
<span id="cb12-31"><a href="#cb12-31" aria-hidden="true" tabindex="-1"></a>  treemap_data <span class="sc">|&gt;</span></span>
<span id="cb12-32"><a href="#cb12-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Country =</span> <span class="fu">case_when</span>(</span>
<span id="cb12-33"><a href="#cb12-33" aria-hidden="true" tabindex="-1"></a>    Country <span class="sc">==</span> <span class="st">"European Union (27)"</span> <span class="sc">~</span> <span class="st">"EU27"</span>,</span>
<span id="cb12-34"><a href="#cb12-34" aria-hidden="true" tabindex="-1"></a>    Country <span class="sc">==</span> <span class="st">"Others"</span> <span class="sc">~</span> <span class="st">"184 Remaining Countries"</span>,</span>
<span id="cb12-35"><a href="#cb12-35" aria-hidden="true" tabindex="-1"></a>    <span class="cn">TRUE</span> <span class="sc">~</span> Country</span>
<span id="cb12-36"><a href="#cb12-36" aria-hidden="true" tabindex="-1"></a>  ))</span>
<span id="cb12-37"><a href="#cb12-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-38"><a href="#cb12-38" aria-hidden="true" tabindex="-1"></a><span class="co"># Re-group and re-summarize to ensure data consistency</span></span>
<span id="cb12-39"><a href="#cb12-39" aria-hidden="true" tabindex="-1"></a>treemap_data <span class="ot">&lt;-</span></span>
<span id="cb12-40"><a href="#cb12-40" aria-hidden="true" tabindex="-1"></a>  treemap_data <span class="sc">|&gt;</span></span>
<span id="cb12-41"><a href="#cb12-41" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Country, Sector) <span class="sc">|&gt;</span></span>
<span id="cb12-42"><a href="#cb12-42" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">Emissions =</span> <span class="fu">sum</span>(Emissions), <span class="at">.groups =</span> <span class="st">"drop"</span>)</span>
<span id="cb12-43"><a href="#cb12-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-44"><a href="#cb12-44" aria-hidden="true" tabindex="-1"></a><span class="co"># Modify the factors to order it in this order:</span></span>
<span id="cb12-45"><a href="#cb12-45" aria-hidden="true" tabindex="-1"></a><span class="co"># Energy, Electricity/Heat, Agriculture, Transportation, Manufacturing/Construction, Other Sectors</span></span>
<span id="cb12-46"><a href="#cb12-46" aria-hidden="true" tabindex="-1"></a>treemap_data <span class="ot">&lt;-</span></span>
<span id="cb12-47"><a href="#cb12-47" aria-hidden="true" tabindex="-1"></a>  treemap_data <span class="sc">|&gt;</span></span>
<span id="cb12-48"><a href="#cb12-48" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb12-49"><a href="#cb12-49" aria-hidden="true" tabindex="-1"></a>    <span class="at">Sector =</span> <span class="fu">factor</span>(Sector,</span>
<span id="cb12-50"><a href="#cb12-50" aria-hidden="true" tabindex="-1"></a>      <span class="at">levels =</span> <span class="fu">c</span>(</span>
<span id="cb12-51"><a href="#cb12-51" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Energy"</span>,</span>
<span id="cb12-52"><a href="#cb12-52" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Electricity/Heat"</span>,</span>
<span id="cb12-53"><a href="#cb12-53" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Agriculture"</span>,</span>
<span id="cb12-54"><a href="#cb12-54" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Transportation"</span>,</span>
<span id="cb12-55"><a href="#cb12-55" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Manufacturing/Construction"</span>,</span>
<span id="cb12-56"><a href="#cb12-56" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Other Sectors"</span>,</span>
<span id="cb12-57"><a href="#cb12-57" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Other Country"</span></span>
<span id="cb12-58"><a href="#cb12-58" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb12-59"><a href="#cb12-59" aria-hidden="true" tabindex="-1"></a>      <span class="at">ordered =</span> <span class="cn">TRUE</span></span>
<span id="cb12-60"><a href="#cb12-60" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb12-61"><a href="#cb12-61" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb12-62"><a href="#cb12-62" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-63"><a href="#cb12-63" aria-hidden="true" tabindex="-1"></a><span class="co"># Preview the data</span></span>
<span id="cb12-64"><a href="#cb12-64" aria-hidden="true" tabindex="-1"></a>treemap_data <span class="sc">|&gt;</span></span>
<span id="cb12-65"><a href="#cb12-65" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt_preview</span>(<span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div id="fig-source1-treemap-data" class="cell-output-display">
<div>
<div id="zyiylmzenf" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#zyiylmzenf table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#zyiylmzenf thead, #zyiylmzenf tbody, #zyiylmzenf tfoot, #zyiylmzenf tr, #zyiylmzenf td, #zyiylmzenf th {
  border-style: none;
}

#zyiylmzenf p {
  margin: 0;
  padding: 0;
}

#zyiylmzenf .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#zyiylmzenf .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#zyiylmzenf .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#zyiylmzenf .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#zyiylmzenf .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#zyiylmzenf .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#zyiylmzenf .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#zyiylmzenf .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#zyiylmzenf .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#zyiylmzenf .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#zyiylmzenf .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#zyiylmzenf .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#zyiylmzenf .gt_spanner_row {
  border-bottom-style: hidden;
}

#zyiylmzenf .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#zyiylmzenf .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#zyiylmzenf .gt_from_md > :first-child {
  margin-top: 0;
}

#zyiylmzenf .gt_from_md > :last-child {
  margin-bottom: 0;
}

#zyiylmzenf .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#zyiylmzenf .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#zyiylmzenf .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#zyiylmzenf .gt_row_group_first td {
  border-top-width: 2px;
}

#zyiylmzenf .gt_row_group_first th {
  border-top-width: 2px;
}

#zyiylmzenf .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#zyiylmzenf .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#zyiylmzenf .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#zyiylmzenf .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#zyiylmzenf .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#zyiylmzenf .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#zyiylmzenf .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#zyiylmzenf .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#zyiylmzenf .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#zyiylmzenf .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#zyiylmzenf .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#zyiylmzenf .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#zyiylmzenf .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#zyiylmzenf .gt_left {
  text-align: left;
}

#zyiylmzenf .gt_center {
  text-align: center;
}

#zyiylmzenf .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#zyiylmzenf .gt_font_normal {
  font-weight: normal;
}

#zyiylmzenf .gt_font_bold {
  font-weight: bold;
}

#zyiylmzenf .gt_font_italic {
  font-style: italic;
}

#zyiylmzenf .gt_super {
  font-size: 65%;
}

#zyiylmzenf .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#zyiylmzenf .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#zyiylmzenf .gt_indent_1 {
  text-indent: 5px;
}

#zyiylmzenf .gt_indent_2 {
  text-indent: 10px;
}

#zyiylmzenf .gt_indent_3 {
  text-indent: 15px;
}

#zyiylmzenf .gt_indent_4 {
  text-indent: 20px;
}

#zyiylmzenf .gt_indent_5 {
  text-indent: 25px;
}
</style>

<table class="gt_table table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="header gt_col_headings">
<th class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col"></th>
<th id="Country" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">Country</th>
<th id="Sector" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">Sector</th>
<th id="Emissions" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Emissions</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td id="stub_1_1" class="gt_row gt_right gt_stub" data-quarto-table-cell-role="th" scope="row" style="font-family: Courier">1</td>
<td class="gt_row gt_left" headers="stub_1_1 Country">184 Remaining Countries</td>
<td class="gt_row gt_left" headers="stub_1_1 Sector">Other Country</td>
<td class="gt_row gt_right" headers="stub_1_1 Emissions">874444.03</td>
</tr>
<tr class="even">
<td id="stub_1_2" class="gt_row gt_right gt_stub" data-quarto-table-cell-role="th" scope="row" style="font-family: Courier">2</td>
<td class="gt_row gt_left" headers="stub_1_2 Country">Brazil</td>
<td class="gt_row gt_left" headers="stub_1_2 Sector">Agriculture</td>
<td class="gt_row gt_right" headers="stub_1_2 Emissions">14023.28</td>
</tr>
<tr class="odd">
<td id="stub_1_3" class="gt_row gt_right gt_stub" data-quarto-table-cell-role="th" scope="row" style="font-family: Courier">3</td>
<td class="gt_row gt_left" headers="stub_1_3 Country">Brazil</td>
<td class="gt_row gt_left" headers="stub_1_3 Sector">Electricity/Heat</td>
<td class="gt_row gt_right" headers="stub_1_3 Emissions">2091.97</td>
</tr>
<tr class="even">
<td id="stub_1_4" class="gt_row gt_right gt_stub" data-quarto-table-cell-role="th" scope="row" style="font-family: Courier">4</td>
<td class="gt_row gt_left" headers="stub_1_4 Country">Brazil</td>
<td class="gt_row gt_left" headers="stub_1_4 Sector">Energy</td>
<td class="gt_row gt_right" headers="stub_1_4 Emissions">11680.01</td>
</tr>
<tr class="odd">
<td id="stub_1_5" class="gt_row gt_right gt_stub" data-quarto-table-cell-role="th" scope="row" style="font-family: Courier">5</td>
<td class="gt_row gt_left" headers="stub_1_5 Country">Brazil</td>
<td class="gt_row gt_left" headers="stub_1_5 Sector">Manufacturing/Construction</td>
<td class="gt_row gt_right" headers="stub_1_5 Emissions">2674.44</td>
</tr>
<tr class="even">
<td id="stub_1_6" class="gt_row gt_right gt_stub" data-quarto-table-cell-role="th" scope="row" style="font-family: Courier">6</td>
<td class="gt_row gt_left" headers="stub_1_6 Country">Brazil</td>
<td class="gt_row gt_left" headers="stub_1_6 Sector">Other Sectors</td>
<td class="gt_row gt_right" headers="stub_1_6 Emissions">31499.05</td>
</tr>
<tr class="odd">
<td id="stub_1_7" class="gt_row gt_right gt_stub" data-quarto-table-cell-role="th" scope="row" style="font-family: Courier">7</td>
<td class="gt_row gt_left" headers="stub_1_7 Country">Brazil</td>
<td class="gt_row gt_left" headers="stub_1_7 Sector">Transportation</td>
<td class="gt_row gt_right" headers="stub_1_7 Emissions">4903.54</td>
</tr>
<tr class="even">
<td id="stub_1_8" class="gt_row gt_right gt_stub" data-quarto-table-cell-role="th" scope="row" style="font-family: Courier">8</td>
<td class="gt_row gt_left" headers="stub_1_8 Country">Canada</td>
<td class="gt_row gt_left" headers="stub_1_8 Sector">Agriculture</td>
<td class="gt_row gt_right" headers="stub_1_8 Emissions">1867.42</td>
</tr>
<tr class="odd">
<td id="stub_1_9" class="gt_row gt_right gt_stub" data-quarto-table-cell-role="th" scope="row" style="font-family: Courier">9</td>
<td class="gt_row gt_left" headers="stub_1_9 Country">Canada</td>
<td class="gt_row gt_left" headers="stub_1_9 Sector">Electricity/Heat</td>
<td class="gt_row gt_right" headers="stub_1_9 Emissions">6080.64</td>
</tr>
<tr class="even">
<td id="stub_1_10" class="gt_row gt_right gt_stub" data-quarto-table-cell-role="th" scope="row" style="font-family: Courier">10</td>
<td class="gt_row gt_left" headers="stub_1_10 Country">Canada</td>
<td class="gt_row gt_left" headers="stub_1_10 Sector">Energy</td>
<td class="gt_row gt_right" headers="stub_1_10 Emissions">17700.02</td>
</tr>
<tr class="odd">
<td id="stub_1_11" class="gt_row gt_right gt_stub" data-quarto-table-cell-role="th" scope="row" style="font-family: Courier; font-size: x-small; background-color: #E4E4E4">11..60</td>
<td class="gt_row gt_left" headers="stub_1_11 Country" style="background-color: #E4E4E4"></td>
<td class="gt_row gt_left" headers="stub_1_11 Sector" style="background-color: #E4E4E4"></td>
<td class="gt_row gt_right" headers="stub_1_11 Emissions" style="background-color: #E4E4E4"></td>
</tr>
<tr class="even">
<td id="stub_1_12" class="gt_row gt_right gt_stub" data-quarto-table-cell-role="th" scope="row" style="font-family: Courier">61</td>
<td class="gt_row gt_left" headers="stub_1_12 Country">United States</td>
<td class="gt_row gt_left" headers="stub_1_12 Sector">Transportation</td>
<td class="gt_row gt_right" headers="stub_1_12 Emissions">54402.41</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
<p>In this block, we prepare the data for treemap visualization:</p>
<ol type="1">
<li>Remove negative emissions values.</li>
<li>Group less significant sectors into “Other Sectors”.</li>
<li>Combine sectors for the “Others” country into a single “Other Sectors” category.</li>
<li>Rename specific countries for clarity.</li>
<li>Reorder sectors for better visualization.</li>
</ol>
<p>This processed dataset <code>treemap_data</code> is now ready for creating a treemap visualization, displaying emissions by country and sector.</p>
</section>
<section id="conclusion" class="level1" data-number="4">
<h1 data-number="4"><span class="header-section-number">4</span> Conclusion</h1>
<p>The objective of this preparation was to identify effective visualizations for representing greenhouse gas emissions data and to uncover new insights through visual analysis, while improving on the original visualization depicted in <a href="#fig-oldvs" class="quarto-xref">Figure&nbsp;1</a>. We chose to employ a treemap visualization to illustrate the distribution of greenhouse gas emissions by country and sector.</p>
<p>Throughout the data preparation process, we successfully processed and grouped the countries and sectors into manageable categories suitable for treemap visualization. The final dataset, <code>treemap_data</code>, is now ready for visualization.</p>
<section id="rationale-for-using-treemaps" class="level2" data-number="4.1">
<h2 data-number="4.1" class="anchored" data-anchor-id="rationale-for-using-treemaps"><span class="header-section-number">4.1</span> Rationale for Using Treemaps</h2>
<p>As described by <span class="citation" data-cites="vliegen_visualizing_2006">Vliegen, Wijk, and Linden (<a href="#ref-vliegen_visualizing_2006" role="doc-biblioref">2006</a>)</span>, treemaps are a space-efficient visualization technique for hierarchical data, utilizing nested rectangles to represent the proportion of each category. This method is particularly well-suited for displaying hierarchical datasets with multiple levels, such as the greenhouse gas emissions data. Treemaps offer an advantage over pie charts and bar charts by effectively displaying a larger number of categories within a limited space, thereby providing a more comprehensive view of the data.</p>
<p>The preparation of our dataset has laid a solid foundation for the subsequent visualization phase, enabling us to accurately and effectively represent the distribution of greenhouse gas emissions across different countries and sectors.</p>

</section>
</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography" id="quarto-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list">
<div id="ref-ghg_data" class="csl-entry" role="listitem">
<span>“4 Charts Explain <span>GHG</span> Emissions by Country and Sector <span></span> World Resources Institute.”</span> 2020. 2020. <a href="https://www.wri.org/insights/4-charts-explain-greenhouse-gas-emissions-countries-and-sectors">https://www.wri.org/insights/4-charts-explain-greenhouse-gas-emissions-countries-and-sectors</a>.
</div>
<div id="ref-ghg_wri" class="csl-entry" role="listitem">
<span>“<span></span> Greenhouse Gas (<span>GHG</span>) Emissions <span></span> Climate Watch.”</span> 2024. 2024. <a href="https://www.climatewatchdata.org/ghg-emissions">https://www.climatewatchdata.org/ghg-emissions</a>.
</div>
<div id="ref-vliegen_visualizing_2006" class="csl-entry" role="listitem">
Vliegen, Roel, Jarke J. van Wijk, and Erik-Jan van der Linden. 2006. <span>“Visualizing Business Data with Generalized Treemaps.”</span> <em><span>IEEE</span> Transactions on Visualization and Computer Graphics</em> 12 (5): 789–96. <a href="https://doi.org/10.1109/TVCG.2006.200">https://doi.org/10.1109/TVCG.2006.200</a>.
</div>
</div></section></div></main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>